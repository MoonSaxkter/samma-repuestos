<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Samma Transmissions Parts - Repuestos Automotrices</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 50%, #16213e 100%);
      color: #ffffff;
      line-height: 1.6;
      min-height: 100vh;
    }

    /* Header profesional */
    header {
      background: rgba(10, 10, 26, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(142, 45, 226, 0.2);
      padding: 20px 0;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      width: 100%;
      transform: translateY(0);
      transition: transform 0.3s ease;
    }

    header.hidden {
      transform: translateY(-100%);
    }

    /* Compensar el espacio del header fijo */
    body {
      padding-top: 120px;
    }

    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
    }

    .logo-section {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo-section img {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      object-fit: cover;
    }

    .brand-info h1 {
      font-size: 1.8rem;
      font-weight: 700;
      background: linear-gradient(135deg, #8e2de2, #ff0080);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 2px;
    }

    .brand-info p {
      font-size: 0.9rem;
      color: #b0b0b0;
      font-weight: 500;
    }

    .contact-info {
      display: flex;
      gap: 30px;
      align-items: center;
    }

    .contact-item {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #e0e0e0;
      font-size: 0.9rem;
      font-weight: 500;
    }

    .contact-icon {
      font-size: 1.1rem;
      color: #ff0080;
    }

    /* Hero section */
    .hero {
      padding: 60px 20px;
      text-align: center;
      background: linear-gradient(135deg, rgba(142, 45, 226, 0.1) 0%, rgba(255, 0, 128, 0.1) 100%);
    }

    .hero-content {
      max-width: 800px;
      margin: 0 auto;
    }

    .hero h2 {
      font-size: 3rem;
      font-weight: 800;
      margin-bottom: 20px;
      background: linear-gradient(135deg, #ffffff, #e0e0e0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero p {
      font-size: 1.2rem;
      color: #b0b0b0;
      margin-bottom: 40px;
      font-weight: 400;
    }

    /* Caracter√≠sticas principales */
    .features {
      padding: 40px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .features-grid {
      display: flex;
      gap: 20px;
      overflow-x: auto;
      padding: 20px 0;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .features-grid::-webkit-scrollbar {
      display: none;
    }

    .feature-card {
      flex: 0 0 280px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(142, 45, 226, 0.3);
      border-radius: 16px;
      padding: 30px 24px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-8px);
      border-color: #ff0080;
      background: rgba(255, 0, 128, 0.08);
      box-shadow: 0 20px 40px rgba(255, 0, 128, 0.15);
    }

    .feature-icon {
      font-size: 2.5rem;
      margin-bottom: 20px;
      display: block;
    }

    .feature-card h3 {
      font-size: 1.3rem;
      color: #ff0080;
      margin-bottom: 12px;
      font-weight: 700;
    }

    .feature-card p {
      color: #c0c0c0;
      font-size: 1rem;
      font-weight: 400;
    }

    /* Servicios profesionales */
    .services {
      padding: 80px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-header {
      text-align: center;
      margin-bottom: 60px;
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 16px;
    }

    .section-subtitle {
      font-size: 1.1rem;
      color: #b0b0b0;
      max-width: 600px;
      margin: 0 auto;
    }

    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
    }

    .service-card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 40px 30px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .service-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #8e2de2, #ff0080);
    }

    .service-card:hover {
      transform: translateY(-10px);
      border-color: rgba(255, 0, 128, 0.4);
      background: rgba(255, 255, 255, 0.06);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
    }

    .service-image {
      width: 100%;
      max-width: 200px;
      height: 140px;
      object-fit: cover;
      border-radius: 12px;
      margin: 0 auto 24px;
      display: block;
      border: 2px solid rgba(255, 255, 255, 0.1);
    }

    .service-card h3 {
      font-size: 1.5rem;
      color: #ff0080;
      margin-bottom: 16px;
      font-weight: 700;
    }

    .service-card p {
      color: #d0d0d0;
      font-size: 1rem;
      line-height: 1.6;
    }

    /* Cat√°logo de repuestos */
    .catalog {
      background: rgba(0, 0, 0, 0.2);
      padding: 80px 20px;
      margin: 60px 0;
    }

    .search-section {
      max-width: 1000px;
      margin: 0 auto 50px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 40px;
    }

    .search-input {
      width: 100%;
      padding: 18px 24px;
      font-size: 1.1rem;
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.05);
      color: #ffffff;
      margin-bottom: 24px;
      transition: all 0.3s ease;
    }

    .search-input:focus {
      outline: none;
      border-color: #ff0080;
      box-shadow: 0 0 20px rgba(255, 0, 128, 0.3);
    }

    .search-input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    .filters-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .filter-input, .filter-select {
      padding: 16px 20px;
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.05);
      color: #ffffff;
      font-size: 1rem;
      transition: all 0.3s ease;
      appearance: none;
      cursor: pointer;
    }

    .filter-select {
      background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='rgba(255,255,255,0.7)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right 16px center;
      background-size: 16px;
      padding-right: 50px;
    }

    .filter-input:focus, .filter-select:focus {
      outline: none;
      border-color: #ff0080;
      box-shadow: 0 0 15px rgba(255, 0, 128, 0.2);
    }

    .filter-input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    .filter-select option {
      background: #1a1a2e;
      color: #ffffff;
    }

    .clear-filters {
      background: linear-gradient(135deg, #8e2de2, #ff0080);
      border: none;
      padding: 12px 24px;
      border-radius: 10px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.95rem;
    }

    .clear-filters:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 0, 128, 0.4);
    }

    /* Categor√≠as grid */
    .categories-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .category-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 32px 24px;
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .category-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 0, 128, 0.1), transparent);
      transition: left 0.5s ease;
    }

    .category-card:hover::before {
      left: 100%;
    }

    .category-card:hover {
      transform: translateY(-8px);
      border-color: #ff0080;
      background: rgba(255, 0, 128, 0.08);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .category-icon {
      font-size: 2.5rem;
      margin-bottom: 16px;
      display: block;
    }

    .category-card h3 {
      font-size: 1.3rem;
      color: #ffffff;
      font-weight: 600;
    }

    /* Resultados de b√∫squeda */
    .search-results {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 20px;
      padding: 40px;
      margin-top: 40px;
      display: none;
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 24px;
    }

    .result-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 24px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .result-card:hover {
      border-color: #ff0080;
      background: rgba(255, 0, 128, 0.08);
      transform: translateY(-4px);
    }

    .result-image {
      width: 100%;
      max-width: 160px;
      height: 100px;
      object-fit: cover;
      border-radius: 10px;
      margin: 0 auto 16px;
      display: block;
      border: 2px solid rgba(255, 0, 128, 0.3);
    }

    .result-title {
      font-size: 1.2rem;
      color: #ff0080;
      font-weight: 600;
      margin-bottom: 12px;
    }

    .result-details {
      color: #d0d0d0;
      font-size: 0.95rem;
      margin-bottom: 8px;
    }

    .result-status {
      font-weight: 600;
      font-size: 0.9rem;
    }

    .status-available {
      color: #10b981;
    }

    .status-unavailable {
      color: #ef4444;
    }

    /* Footer */
    footer {
      background: rgba(10, 10, 26, 0.8);
      border-top: 1px solid rgba(142, 45, 226, 0.2);
      padding: 40px 20px;
      text-align: center;
      margin-top: 80px;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer-text {
      color: #b0b0b0;
      font-size: 0.9rem;
    }

    /* Responsive */
    @media (max-width: 768px) {
      body {
        padding-top: 140px;
      }
      
      .header-content {
        flex-direction: column;
        gap: 20px;
        text-align: center;
      }

      .contact-info {
        flex-direction: column;
        gap: 15px;
      }

      .hero h2 {
        font-size: 2.2rem;
      }

      .hero p {
        font-size: 1.1rem;
      }

      .feature-card {
        flex: 0 0 240px;
      }

      .services-grid {
        grid-template-columns: 1fr;
      }

      .filters-grid {
        grid-template-columns: 1fr;
      }

      .categories-grid {
        grid-template-columns: 1fr;
      }

      .results-grid {
        grid-template-columns: 1fr;
      }

      .search-section {
        padding: 24px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo-section">
        <img src="img/samma-logo.PNG" alt="Samma Transmissions" onerror="this.style.display='none'" />
        <div class="brand-info">
          <h1>Samma Transmissions</h1>
          <p>Repuestos Automotrices Profesionales</p>
        </div>
      </div>
      <div class="contact-info">
        <div class="contact-item">
          <span class="contact-icon">üìû</span>
          <span>+506-7004-8888</span>
        </div>
        <div class="contact-item">
          <span class="contact-icon">üí¨</span>
          <span>WhatsApp 24/7</span>
        </div>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="hero-content">
      <h2>Repuestos de Transmisiones de Alta Calidad</h2>
      <p>M√°s de 15 a√±os especializados en repuestos para transmisiones autom√°ticas. Inventario completo, env√≠os r√°pidos y asesor√≠a t√©cnica especializada.</p>
    </div>
  </section>

  <section class="features">
    <div class="features-grid">
      <div class="feature-card">
        <span class="feature-icon">üöö</span>
        <h3>Env√≠os Express</h3>
        <p>Entrega de 1 a 2 d√≠as h√°biles en todo el pa√≠s</p>
      </div>
      <div class="feature-card">
        <span class="feature-icon">üìû</span>
        <h3>Asesor√≠a T√©cnica</h3>
        <p>Expertos disponibles para consultas especializadas</p>
      </div>
      <div class="feature-card">
        <span class="feature-icon">üí¨</span>
        <h3>Soporte WhatsApp</h3>
        <p>Atenci√≥n personalizada las 24 horas del d√≠a</p>
      </div>
      <div class="feature-card">
        <span class="feature-icon">üìç</span>
        <h3>M√∫ltiples Sucursales</h3>
        <p>Ubicaciones estrat√©gicas para mejor servicio</p>
      </div>
    </div>
  </section>

  <section class="services">
    <div class="section-header">
      <h2 class="section-title">Nuestros Servicios</h2>
      <p class="section-subtitle">Soluciones completas para todas sus necesidades de repuestos automotrices</p>
    </div>
    <div class="services-grid">
      <div class="service-card">
        <img src="img/repuestos.png" alt="Repuestos de Transmisi√≥n" class="service-image" onerror="this.style.display='none'" />
        <h3>Repuestos de Transmisiones</h3>
        <p>Cat√°logo completo de repuestos originales y compatibles para todo tipo de transmisiones autom√°ticas. Marcas reconocidas y garant√≠a de calidad.</p>
      </div>
      <div class="service-card">
        <h3>Asesor√≠a T√©cnica Especializada</h3>
        <p>Nuestros expertos t√©cnicos le guiar√°n para encontrar el repuesto exacto que necesita. Diagn√≥stico profesional y recomendaciones precisas.</p>
      </div>
      <div class="service-card">
        <h3>Ventas al Mayor y Menor</h3>
        <p>Precios competitivos tanto para talleres especializados como para usuarios finales. Descuentos especiales por volumen y clientes frecuentes.</p>
      </div>
    </div>
  </section>

  <section class="catalog">
    <div class="section-header">
      <h2 class="section-title">Cat√°logo de Repuestos</h2>
      <p class="section-subtitle">Encuentre f√°cilmente el repuesto que necesita en nuestro inventario actualizado</p>
    </div>

    <div class="search-section">
      <input type="text" class="search-input" id="busqueda-general" placeholder="Buscar por c√≥digo, marca, modelo o n√∫mero de transmisi√≥n..." onkeyup="buscarRepuestos()" />
      
      <div class="filters-grid">
        <input type="text" class="filter-input" id="filtro-caja" placeholder="N√∫mero de transmisi√≥n (ej: 4L60E)" onkeyup="aplicarFiltros()" />
        
        <select class="filter-select" id="filtro-tipo" onchange="aplicarFiltros()">
          <option value="">Todos los repuestos</option>
          <option value="overhaul">Overhaul</option>
          <option value="discos">Discos de fricci√≥n</option>
          <option value="bandas">Bandas</option>
          <option value="filtros">Filtros</option>
          <option value="pistones">Pistones</option>
          <option value="retenedores">Retenedores</option>
          <option value="bushing">Bushing</option>
          <option value="empaques">Empaques</option>
          <option value="discos-sueltos">Discos sueltos</option>
          <option value="metales">Metales</option>
        </select>

        <input type="number" class="filter-input" id="filtro-anio" placeholder="A√±o del veh√≠culo" min="1990" max="2025" onchange="aplicarFiltros()" />
        
        <button class="clear-filters" onclick="limpiarFiltros()">Limpiar filtros</button>
      </div>
    </div>

    <div class="categories-grid" id="lista-categorias">
      <div class="category-card" data-categoria="overhaul" onclick="filtrarRapido('overhaul')">
        <span class="category-icon">üîß</span>
        <h3>Overhaul</h3>
      </div>
      <div class="category-card" data-categoria="discos" onclick="filtrarRapido('discos')">
        <span class="category-icon">ü•è</span>
        <h3>Discos de Fricci√≥n</h3>
      </div>
      <div class="category-card" data-categoria="bandas" onclick="filtrarRapido('bandas')">
        <span class="category-icon">üîó</span>
        <h3>Bandas</h3>
      </div>
      <div class="category-card" data-categoria="filtros" onclick="filtrarRapido('filtros')">
        <span class="category-icon">üîç</span>
        <h3>Filtros</h3>
      </div>
      <div class="category-card" data-categoria="pistones" onclick="filtrarRapido('pistones')">
        <span class="category-icon">‚öôÔ∏è</span>
        <h3>Pistones</h3>
      </div>
      <div class="category-card" data-categoria="retenedores" onclick="filtrarRapido('retenedores')">
        <span class="category-icon">üîí</span>
        <h3>Retenedores</h3>
      </div>
      <div class="category-card" data-categoria="bushing" onclick="filtrarRapido('bushing')">
        <span class="category-icon">üî©</span>
        <h3>Bushing</h3>
      </div>
      <div class="category-card" data-categoria="empaques" onclick="filtrarRapido('empaques')">
        <span class="category-icon">üì¶</span>
        <h3>Empaques</h3>
      </div>
      <div class="category-card" data-categoria="discos-sueltos" onclick="filtrarRapido('discos-sueltos')">
        <span class="category-icon">üíø</span>
        <h3>Discos Sueltos</h3>
      </div>
      <div class="category-card" data-categoria="metales" onclick="filtrarRapido('metales')">
        <span class="category-icon">ü™ô</span>
        <h3>Metales</h3>
      </div>
    </div>

    <div class="search-results" id="resultados-detallados">
      <h3 style="color: #ff0080; margin-bottom: 30px; font-size: 1.8rem; text-align: center;">Resultados de b√∫squeda</h3>
      <div class="results-grid" id="lista-repuestos"></div>
    </div>
  </section>

  <footer>
    <div class="footer-content">
      <p class="footer-text">&copy; 2025 Samma Transmissions Parts. Todos los derechos reservados.</p>
      <p class="footer-text">Especialistas en repuestos para transmisiones autom√°ticas</p>
    </div>
  </footer>

  <script>
    // URLs de los CSV de Google Sheets
    const csvUrls = {
      overhaul: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT7FLxUuVFwrR4P6U8o-VzWdAkIWkJdXfRQGMj09I_rzF_9PfLB5XKu0SoztZt_hs7bhWwRXa_OcqMU/pub?gid=1425967188&single=true&output=csv',
      discos: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT7FLxUuVFwrR4P6U8o-VzWdAkIWkJdXfRQGMj09I_rzF_9PfLB5XKu0SoztZt_hs7bhWwRXa_OcqMU/pub?gid=579217340&single=true&output=csv',
      bandas: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT7FLxUuVFwrR4P6U8o-VzWdAkIWkJdXfRQGMj09I_rzF_9PfLB5XKu0SoztZt_hs7bhWwRXa_OcqMU/pub?gid=813615277&single=true&output=csv',
      filtros: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT7FLxUuVFwrR4P6U8o-VzWdAkIWkJdXfRQGMj09I_rzF_9PfLB5XKu0SoztZt_hs7bhWwRXa_OcqMU/pub?gid=237072059&single=true&output=csv',
      pistones: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT7FLxUuVFwrR4P6U8o-VzWdAkIWkJdXfRQGMj09I_rzF_9PfLB5XKu0SoztZt_hs7bhWwRXa_OcqMU/pub?gid=1404535140&single=true&output=csv',
      retenedores: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT7FLxUuVFwrR4P6U8o-VzWdAkIWkJdXfRQGMj09I_rzF_9PfLB5XKu0SoztZt_hs7bhWwRXa_OcqMU/pub?gid=622344143&single=true&output=csv',
      bushing: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT7FLxUuVFwrR4P6U8o-VzWdAkIWkJdXfRQGMj09I_rzF_9PfLB5XKu0SoztZt_hs7bhWwRXa_OcqMU/pub?gid=346334362&single=true&output=csv',
      empaques: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT7FLxUuVFwrR4P6U8o-VzWdAkIWkJdXfRQGMj09I_rzF_9PfLB5XKu0SoztZt_hs7bhWwRXa_OcqMU/pub?gid=989228475&single=true&output=csv',
      discos_sueltos: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT7FLxUuVFwrR4P6U8o-VzWdAkIWkJdXfRQGMj09I_rzF_9PfLB5XKu0SoztZt_hs7bhWwRXa_OcqMU/pub?gid=659494719&single=true&output=csv',
      metales: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT7FLxUuVFwrR4P6U8o-VzWdAkIWkJdXfRQGMj09I_rzF_9PfLB5XKu0SoztZt_hs7bhWwRXa_OcqMU/pub?gid=1217743284&single=true&output=csv',
      varios: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT7FLxUuVFwrR4P6U8o-VzWdAkIWkJdXfRQGMj09I_rzF_9PfLB5XKu0SoztZt_hs7bhWwRXa_OcqMU/pub?gid=1070226293&single=true&output=csv'
    };

    let inventarioCompleto = [];
    let cargandoDatos = false;

    // Cargar inventario desde Google Sheets
    async function cargarInventario() {
      if (cargandoDatos) return;
      cargandoDatos = true;
      
      console.log('Cargando inventario desde Google Sheets...');
      inventarioCompleto = [];
      
      for (const [categoria, url] of Object.entries(csvUrls)) {
        try {
          const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
          const response = await fetch(proxyUrl);
          const csvText = await response.text();
          
          const lines = csvText.split('\n');
          
          for (let i = 1; i < lines.length; i++) {
            const values = lines[i].split(',');
            if (values.length >= 4 && values[0]) {
              const producto = {
                categoria: categoria,
                caja: values[0]?.trim() || '',
                marca: values[1]?.trim() || '',
                cantidad: parseInt(values[2]) || 0,
                codigo: values[3]?.trim() || '',
                precio: parseFloat(values[4]?.replace(/[^\d.]/g, '')) || 0,
                descripcion: `${values[0]} ${values[1]}`.trim(),
                disponible: parseInt(values[2]) > 0
              };
              inventarioCompleto.push(producto);
            }
          }
          
          console.log(`‚úÖ ${categoria}: cargado`);
        } catch (error) {
          console.log(`‚ùå Error: ${categoria}`);
        }
      }
      
      console.log(`üéâ Total productos: ${inventarioCompleto.length}`);
      cargandoDatos = false;
    }

    // B√∫squeda de repuestos
    function buscarRepuestos() {
      const termino = document.getElementById('busqueda-general').value.toLowerCase();
      
      if (termino.length > 2) {
        document.getElementById('resultados-detallados').style.display = 'block';
        document.getElementById('lista-categorias').style.display = 'none';
        
        const resultados = inventarioCompleto.filter(repuesto => 
          repuesto.codigo.toLowerCase().includes(termino) ||
          repuesto.descripcion.toLowerCase().includes(termino) ||
          repuesto.caja.toLowerCase().includes(termino) ||
          repuesto.marca.toLowerCase().includes(termino)
        );
        
        mostrarResultados(resultados);
      } else {
        document.getElementById('resultados-detallados').style.display = 'none';
        document.getElementById('lista-categorias').style.display = 'grid';
      }
    }

    // Aplicar filtros
    function aplicarFiltros() {
      const caja = document.getElementById('filtro-caja').value.toLowerCase();
      const tipo = document.getElementById('filtro-tipo').value;
      const anio = document.getElementById('filtro-anio').value;
      const termino = document.getElementById('busqueda-general').value.toLowerCase();

      let resultados = inventarioCompleto;

      if (caja) resultados = resultados.filter(r => r.caja.toLowerCase().includes(caja));
      if (tipo) resultados = resultados.filter(r => r.categoria === tipo);
      if (anio) resultados = resultados.filter(r => r.descripcion.includes(anio));
      if (termino.length > 2) {
        resultados = resultados.filter(r => 
          r.codigo.toLowerCase().includes(termino) ||
          r.descripcion.toLowerCase().includes(termino) ||
          r.caja.toLowerCase().includes(termino) ||
          r.marca.toLowerCase().includes(termino)
        );
      }

      if (caja || tipo || anio || termino.length > 2) {
        document.getElementById('resultados-detallados').style.display = 'block';
        document.getElementById('lista-categorias').style.display = 'none';
        mostrarResultados(resultados);
      } else {
        document.getElementById('resultados-detallados').style.display = 'none';
        document.getElementById('lista-categorias').style.display = 'grid';
      }
    }

    // Mostrar resultados
    function mostrarResultados(resultados) {
      const container = document.getElementById('lista-repuestos');
      
      if (resultados.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: rgba(255,255,255,0.7); grid-column: 1/-1;">No se encontraron repuestos. Intenta con otros t√©rminos.</p>';
        return;
      }

      container.innerHTML = resultados.map(repuesto => {
        const estadoStock = repuesto.cantidad === 0 ? 'No disponible' : 'Disponible';
        const colorStock = repuesto.cantidad === 0 ? 'status-unavailable' : 'status-available';

        // Im√°genes para overhaul
        let imagenOverhaul = '';
        if (repuesto.categoria === 'overhaul') {
          if (repuesto.marca.toUpperCase().includes('PRECISION')) {
            imagenOverhaul = '<img src="img/overhaul.jpeg" alt="Kit Overhaul Precision" class="result-image" onerror="this.style.display=\'none\'" />';
          } else if (repuesto.marca.toUpperCase().includes('TRANSNATION') || repuesto.marca.toUpperCase().includes('TRANSNA')) {
            imagenOverhaul = '<img src="img/overhaul_transnation.jpeg" alt="Kit Overhaul Transnation" class="result-image" onerror="this.style.display=\'none\'" />';
          } else if (repuesto.marca.toUpperCase().includes('TRANSTEC')) {
            imagenOverhaul = '<img src="img/overhaul_transtec.jpeg" alt="Kit Overhaul Transtec" class="result-image" onerror="this.style.display=\'none\'" />';
          }
        }

        return `
          <div class="result-card" onclick="contactarRepuesto('${repuesto.caja}', '${repuesto.descripcion}')">
            ${imagenOverhaul}
            <div class="result-title">${repuesto.descripcion}</div>
            <div class="result-details">Transmisi√≥n: ${repuesto.caja} | ${repuesto.marca}</div>
            <div class="result-status ${colorStock}">${estadoStock} | ${repuesto.categoria.charAt(0).toUpperCase() + repuesto.categoria.slice(1)}</div>
          </div>
        `;
      }).join('');
    }

    // Filtro r√°pido por categor√≠a
    function filtrarRapido(categoria) {
      document.getElementById('filtro-tipo').value = categoria;
      aplicarFiltros();
    }

    // Limpiar filtros
    function limpiarFiltros() {
      document.getElementById('busqueda-general').value = '';
      document.getElementById('filtro-caja').value = '';
      document.getElementById('filtro-tipo').value = '';
      document.getElementById('filtro-anio').value = '';
      
      document.getElementById('resultados-detallados').style.display = 'none';
      document.getElementById('lista-categorias').style.display = 'grid';
    }

    // Contactar por WhatsApp
    function contactarRepuesto(caja, descripcion) {
      const mensaje = `Hola, me interesa consultar sobre un repuesto:

üîß Producto: ${descripcion}
üì¶ N√∫mero de transmisi√≥n: ${caja}

¬øPodr√≠an darme informaci√≥n sobre precio y disponibilidad?

Gracias!`;
      
      const numeroWhatsApp = "50670048";
      const mensajeCodificado = encodeURIComponent(mensaje);
      const urlWhatsApp = `https://wa.me/${numeroWhatsApp}?text=${mensajeCodificado}`;
      
      window.open(urlWhatsApp, '_blank');
    }

    // Inicializar
    document.addEventListener('DOMContentLoaded', function() {
      cargarInventario();
      
      // Header auto-hide en scroll
      let lastScrollTop = 0;
      const header = document.querySelector('header');
      
      window.addEventListener('scroll', function() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        if (scrollTop > lastScrollTop && scrollTop > 100) {
          // Scroll hacia abajo - ocultar header
          header.classList.add('hidden');
        } else {
          // Scroll hacia arriba - mostrar header
          header.classList.remove('hidden');
        }
        
        lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
      });
    });
  </script>
</body>
</html>